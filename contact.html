<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Contact</title>
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet"
        crossorigin="anonymous">
    <script src="http://code.jquery.com/jquery-3.4.1.min.js" crossorigin="anonym
ous"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function () {
            emailjs.init("user_FqSIaSbranYlfUGKRIIUR");
        })();
        window.onload = function () {
            document.getElementById('nameform').addEventListener('submit', function (event) {
                event.preventDefault();
                // generate a five digit number for the contact_number variable
                this.contact_number.value = Math.random() * 100000 | 0;
                // these IDs from the previous steps
                emailjs.send('service_u4xvp73', 'template1234', {
                    user_fname: document.getElementById('user_fname').value,
                    user_lname: document.getElementById('user_lname').value,
                    user_email: document.getElementById('user_email').value,
                    user_phone: document.getElementById('user_phone').value,
                    user_message: document.getElementById('user_message').value,
                }).then(function(response){
                    console.log('SUCCESS!', response.status, response.text);
                }, function(error){
                    console.log('FAILED...', error);
                });
                    
            });
        }
    </script>
    <script src="./js/contact.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-sm navbar-dark bg-dark">
        <div class="navbar-header"><a class="navbar-brand" href="./index.html">Jake Screen's Website</a>
        </div>
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="./aboutme.html">About</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="./contact.html">Contact</a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto" id="rightNav">
            <li class="nav-item">
                <a class="nav-link" href="https://jinhengz.github.io/index.html">Previous Student</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://mattm401.github.io/">Course Site</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="https://rallarey.github.io/">Next Student</a>
            </li>
        </ul>

    </nav>
    <div id="content">
        <div class="main">
            <h1>Contact</h1>
            <form id='nameform' class="needs-validation">
                <input type="hidden" name="contact_number">
                <div class='form-group form-inline'>
                    <label for='user_fname'>First Name:</label>
                    <input id='user_fname' type='text' class='form-control' name="user_fname" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class='form-group form-inline'>
                    <label for='user_lname'>Last Name:</label>
                    <input id='user_lname' type='text' class='form-control' name="user_lname" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class='form-group form-inline'>
                    <label for='user_email'>Email Address:</label>
                    <input id='user_email' type='email' class='form-control' name="user_email" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class='form-group form-inline'>
                    <label for='user_phone'>Phone Number (xxx-xxx-xxxx):</label>
                    <input id='user_phone' type='tel' pattern="^\d{3}-\d{3}-\d{4}$" class='form-control' name="user_phone" required>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <div class='form-group '>
                    <label for='user_message'>Message:</label>
                    <textarea id='user_message' type='text' class='form-control' name="user_message" required></textarea>
                    <div class="valid-feedback">
                        Looks good!
                    </div>
                </div>
                <input type='submit' id='go' class='btn btn-danger' value='Send'>
            </form>
        </div>
    </div>

</body>

</html>